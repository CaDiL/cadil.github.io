<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Docker on CaDiL&#39;s Blog</title>
    <link>https://cadil.github.io/tags/docker/</link>
    <description>Recent content in Docker on CaDiL&#39;s Blog</description>
    <image>
      <title>CaDiL&#39;s Blog</title>
      <url>https://cadil.github.io/static</url>
      <link>https://cadil.github.io/static</link>
    </image>
    <generator>Hugo -- gohugo.io</generator>
    <language>mn</language>
    <lastBuildDate>Fri, 25 Dec 2020 00:00:00 +0000</lastBuildDate>
    <atom:link href="https://cadil.github.io/tags/docker/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Odoo -г Docker-с ажилууллах</title>
      <link>https://cadil.github.io/posts/2020-12-25-docker-compose/</link>
      <pubDate>Fri, 25 Dec 2020 00:00:00 +0000</pubDate>
      <guid>https://cadil.github.io/posts/2020-12-25-docker-compose/</guid>
      <description>Odoo -г Docker-с ажилууллах</description>
      <content:encoded><![CDATA[<h3 id="odoo--г-docker-с-ажилууллах">Odoo -г Docker-с ажилууллах</h3>
<ul>
<li><code>Odoo</code> -н тухай</li>
<li><a href="https://bitnami.com">Bitnami</a>-г ашиглан <a href="https://github.com/bitnami/bitnami-docker-odoo">Bitnami-docker-odoo</a> - ажилууллах</li>
<li><code>docker-compose</code> - коммандын талаар</li>
<li>Docker Volume &amp; persistent volume claim талаар</li>
<li>Docker-compouse ажилууллах</li>
</ul>
<h3 id="odoohttpsgithubcomodooodoo-н-тухайд"><a href="https://github.com/odoo/odoo">Odoo</a>-н тухайд</h3>
<p>Нээлттэй эх дээрх бизнес апплкэйшн <a href="https://en.wikipedia.org/wiki/Enterprise_resource_planning">ERP</a> нь вэб дээр бүрэн ажиллах, ѳѳр системтэй интеграци хийх боломж, <a href="https://en.wikipedia.org/wiki/Internationalization_and_localization">l10n</a> зэргийг шийдсэн цогц апплкэйшн юм.</p>
<h3 id="bitnamihttpsgithubcombitnami-н-тухайд"><a href="https://github.com/bitnami">Bitnami</a>-н тухайд</h3>
<p>Нээлттэй эх дээр суурьтай <a href="https://en.wikipedia.org/wiki/Open-source_software">OSS</a> софтвейрыг хялбар аргаар хүссэн орчин дээр суулган ажилуулна. Клоуд хостинг хийж байгаа бол Helm Chart -г ашиглан күбэрнетес, клустер-г хялбархан тохируулна. Гэхдээ күбэрнетес, клустертэй ажиллаж байгаа үед гарын авлага, документ, тест зэргийг сайтар судалсны дараа турших хэрэгтэй.</p>
<h3 id="docker-compose">Docker Compose</h3>
<p>Compose нь нэгээс олон контейнеруудыг нэг дор ажилууллах үед <a href="https://en.wikipedia.org/wiki/YAML">YAML</a> файл дотор тохируулсан бүтцийг ашиглан докер ажиллах процесс юм.</p>
<p>Докэр Compose үндсэн бүтэц:</p>
<ul>
<li><code>Dockerfile</code></li>
<li><code>docker-compose.yml</code> - апплкэйшн тус бүрийн бүтцийг тодорхойлох хэсэг. Файл дотор байгаа бүтцийн дагуу апплкэйшн серверүүдийг асааж тусгаарлагдсан орчин үүсгэнэ.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>version: <span style="color:#e6db74">&#39;2&#39;</span>
</span></span><span style="display:flex;"><span>services:
</span></span><span style="display:flex;"><span> postgresql:
</span></span><span style="display:flex;"><span>   image: <span style="color:#e6db74">&#39;docker.io/bitnami/postgresql:11-debian-10&#39;</span>
</span></span><span style="display:flex;"><span>   environment:
</span></span><span style="display:flex;"><span>     - ALLOW_EMPTY_PASSWORD<span style="color:#f92672">=</span>yes
</span></span><span style="display:flex;"><span>   volumes:
</span></span><span style="display:flex;"><span>     - <span style="color:#e6db74">&#39;postgresql_data:/bitnami/postgresql&#39;</span>
</span></span><span style="display:flex;"><span> odoo:
</span></span><span style="display:flex;"><span>   image: <span style="color:#e6db74">&#39;docker.io/bitnami/odoo:14-debian-10&#39;</span>
</span></span><span style="display:flex;"><span>   ports:
</span></span><span style="display:flex;"><span>     - <span style="color:#e6db74">&#39;80:8069&#39;</span>
</span></span><span style="display:flex;"><span>     - <span style="color:#e6db74">&#39;443:8071&#39;</span>
</span></span><span style="display:flex;"><span>   volumes:
</span></span><span style="display:flex;"><span>     - <span style="color:#e6db74">&#39;odoo_data:/bitnami&#39;</span>
</span></span><span style="display:flex;"><span>   depends_on:
</span></span><span style="display:flex;"><span>     - postgresql
</span></span><span style="display:flex;"><span>volumes:
</span></span><span style="display:flex;"><span> postgresql_data:
</span></span><span style="display:flex;"><span>   driver: local
</span></span><span style="display:flex;"><span> odoo_data:
</span></span><span style="display:flex;"><span>   driver: local
</span></span></code></pre></div><p>Bitnami дах Odoo V14-н сервер, апплкэйшнг тодорхойлж байгаа docker-compose.yml -г задалж үзвэл <a href="https://github.com/bitnami/bitnami-docker-postgresql"><code>postgresql</code></a>, <code>odoo</code> гэсэн хоёр контейнераас <code>services</code> бүрдэж байна.</p>
<ul>
<li><code>ALLOW_EMPTY_PASSWORD=yes</code> - ѳгѳгдлийн санг нууц үггүйгээр хандалт хийдэг болгож байна (тест хийж байгаа үед тохиромжтой). Продакшн орчинд тохиромжгүй сонголт.</li>
<li><code>ports</code> - [host-port]:[container-port] Хостинг портыг <code>80</code>, <code>443</code> контейнер дэх <code>8069</code>, <code>8071</code> порттой холбож байна. CLI - рүү бичвэл:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ docker run -p 80:8069 --name odoo
</span></span></code></pre></div><ul>
<li><code>depends_on</code> - Compose хийхдээ эхлээд postgresql тодорхойлсон байна. Үүний дараа Odoo-г тохируулж байна. Ингэснээр ялгаатай хоёр контейнерээс хамааралтай байх нѳхцлийг тодорхойлж ѳгнѳ. Ѳѳрѳѳр хэлбэл нетворкинг хийж байгаа үед дарааллыг тодорхойлж ѳгѳх ба Odoo асахаас ѳмнѳ нь заавал Postgresql ассан байх ёстойг compose-д сануулж байна гэж хэлж болох юм.</li>
<li><code>volumes</code> - compose хийгдэж байгаа YAML-г CLI -руу хѳрвүүлбэл:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ docker volume create --driver local --name postgresql_data
</span></span><span style="display:flex;"><span>$ docker volume create --driver local --name odoo_data
</span></span></code></pre></div><p>буюу [Докэр хост] дотор odoo_data, postgresql_data гэсэн нэртэй local volume үүсгэж ѳгнѳ. Докэр хост-г дэлгэрүүлбэл:</p>
<p>Докэр ажиллах бүтэц нь Docker Engine тѳвтэй ба дараах гурван хэсгээс бүрдэнэ.</p>
<ul>
<li>Docker daemon - Docker API хүсэлтүүд хүлээн авч image, container, network, volume - зэргийн зохион байгуулалт хийх, бусад Docker Service-үүдтэй deamon -ѳѳр дамжин холбогдох гэх мэт.</li>
<li>Docker CLI (Command Line Interface)</li>
<li>REST API - Клиенттай холбогдох, Docker deamon-той уялдан харилцана.</li>
</ul>
<p>Ѳѳрѳѳр хэлбэл докэр дотор ажиллаж байгааг image-с тусад нь volume үүсгэн ѳгч байна. Ингэснээр тухайн контейнер унтарсан ч дата персист тѳлѳвтэй дахин ашиглаж болно гэсэн юм. &ndash;driver гэдэг нь Докэр plugin ашиглаад зѳвхѳн Докэр роот-с хандалт хийх эрх локал volume үүсгэж байна. Датаг холбох ѳѳр нэг арга нь docker-compose дотор хостинг directory-г оноох боломжтой. Гэхдээ non-root хэрэглэгчийн хувьд харгалзах хандах эрх байгааг нягтлан шалгах хэрэгтэй. Жишээ нь хост direcory-г тодорхойж буй:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>volumes:
</span></span><span style="display:flex;"><span>  - <span style="color:#e6db74">&#39;odoo_data:/bitnami&#39;</span> <span style="color:#75715e">#Docker Host-с дотор тодорхойлсон volume.</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#e6db74">&#39;./extra-addons:/bitnami/odoo/addons&#39;</span> <span style="color:#75715e"># Хост directory-г Container руу оруулж байна.</span>
</span></span></code></pre></div><p><code>odoo_data:/bitnami</code> дотор Odoo-г ажиллаж байх үеийн filestore -д Docker Host дотор <code>odoo_data</code> volume-д үүснэ. Docker volume руу зѳвхѳн Docker hosting хийж байгаа root хэрэглэгч хандах боломжтойг анхаарна уу.</p>
<p><code>./extra-addons:/bitnami/odoo/addons</code> - ./extra-addons, directory -г Odoo контейнер дах /bitnami/odoo/addons руу оруулж байна. Ингэснээр гуравдагч эдгээдийн модиуль болон хѳгжүүлэлтийн орчин дах нэмэлт модиулыг суулган ажиллуулах боломжтой болно.</p>
<p><code>/bitnami/odoo/addons</code>-г conf файл дотор тодорхойлж ѳгсѳн эсэхийг шалгах:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ docker exec -it &lt;container-name&gt; cat /opt/bitnami/odoo/odoo-server.conf
</span></span></code></pre></div><p>Bitnami -г дах Dockerfile болон нэмэлт pkg суух үед Odoo-гийн коор модиулидын directory болон нэмэлтээр суулгах модиулын directory-г тодорхойлон .conf файлд тохируулсан байгааг харж болно.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">[</span>options<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>addons_path <span style="color:#f92672">=</span> /opt/bitnami/odoo/odoo/addons,/opt/bitnami/odoo/addons
</span></span><span style="display:flex;"><span>...
</span></span></code></pre></div><p>docker-compose.yml - файл сүүлийн байдлаар:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>version: <span style="color:#e6db74">&#39;2&#39;</span>
</span></span><span style="display:flex;"><span>services:
</span></span><span style="display:flex;"><span>  postgresql:
</span></span><span style="display:flex;"><span>    image: <span style="color:#e6db74">&#39;docker.io/bitnami/postgresql:11-debian-10&#39;</span>
</span></span><span style="display:flex;"><span>    environment:
</span></span><span style="display:flex;"><span>      - ALLOW_EMPTY_PASSWORD<span style="color:#f92672">=</span>yes
</span></span><span style="display:flex;"><span>    volumes:
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#39;postgresql_data:/bitnami/postgresql&#39;</span>
</span></span><span style="display:flex;"><span>  odoo:
</span></span><span style="display:flex;"><span>    image: <span style="color:#e6db74">&#39;docker.io/bitnami/odoo:14-debian-10&#39;</span>
</span></span><span style="display:flex;"><span>    ports:
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#39;80:8069&#39;</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#39;443:8071&#39;</span>
</span></span><span style="display:flex;"><span>    volumes:
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#39;odoo_data:/bitnami&#39;</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#39;./extra-addons:/bitnami/odoo/addons&#39;</span>
</span></span><span style="display:flex;"><span>    depends_on:
</span></span><span style="display:flex;"><span>      - postgresql
</span></span><span style="display:flex;"><span>volumes:
</span></span><span style="display:flex;"><span>  postgresql_data:
</span></span><span style="display:flex;"><span>    driver: local
</span></span><span style="display:flex;"><span>  odoo_data:
</span></span><span style="display:flex;"><span>    driver: local
</span></span></code></pre></div><p><a href="https://github.com/CaDiL/docker-101/tree/main/bitnami-odoo">Бүтэц:</a></p>
<pre tabindex="0"><code>...
# tree
/bitnami-odoo/
|-- extra-addons
|-- docker-compose.yml
...
</code></pre><h3 id="docker-compose-ажилууллах">Docker-compose ажилууллах:</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ docker-compose up -d
</span></span></code></pre></div><p>Image-үүд татаж дуусан networking хийн done болсон бол:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>Status: Downloaded newer image <span style="color:#66d9ef">for</span> bitnami/odoo:14-debian-10
</span></span><span style="display:flex;"><span>Creating bitnami-odoo_postgresql_1 ... <span style="color:#66d9ef">done</span>
</span></span><span style="display:flex;"><span>Creating bitnami-odoo_odoo_1       ... <span style="color:#66d9ef">done</span>
</span></span></code></pre></div><p><code>http://localhost/web/login</code> хаягаар хандан bitnami -с тодорхойлсон нэвтрэх нэр: <a href="mailto:user@example.com">user@example.com</a> нууц үг: bitnami, Odoo руу нэвтрэн орно. Эсхүл шинээр db тохируулах бол &lsquo;<code>http://localhost/web/database/selector</code> - хаягаар орон тохируулж болно.</p>
<h3 id="docker-compose-унтраах">Docker-compose унтраах:</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ docker-compose down
</span></span></code></pre></div><h3 id="volume-шалгах">Volume шалгах:</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker volume ls
</span></span></code></pre></div><h3 id="volume-устгах">Volume устгах:</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker volume rm &lt;volume-name&gt;
</span></span></code></pre></div>]]></content:encoded>
    </item>
    <item>
      <title>Localhost дээр Nginx ажилууллах</title>
      <link>https://cadil.github.io/posts/2020-12-21-nginx-container/</link>
      <pubDate>Mon, 21 Dec 2020 00:00:00 +0000</pubDate>
      <guid>https://cadil.github.io/posts/2020-12-21-nginx-container/</guid>
      <description>Localhost дээр Nginx ажилууллах</description>
      <content:encoded><![CDATA[<h1 id="localhost-дээр-nginx-ажилууллах">Localhost дээр Nginx ажилууллах</h1>
<p>Локалхост дээр Nignx вэбсервер асаах</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker run -d -p 80:80 --name webserver nginx
</span></span></code></pre></div><p>Коммандын ажиллаж буй зарчим:</p>
<ul>
<li><a href="https://docs.docker.com/engine/reference/commandline/cli/"><code>docker</code></a> - Докэр ачааллах үндсэн комманд.</li>
<li><a href="https://docs.docker.com/engine/reference/run/"><code>run</code></a> - Контейнер ажлууллна.</li>
<li><a href="https://docs.docker.com/engine/reference/run/#detached--d"><code>-d</code></a> - Контейнерыг салангид тѳлѳвтэйгээр ажиллуулна. Процесс (веб-сервер) зогсвол контейнер мѳн зогсоно.</li>
<li><a href="https://docs.docker.com/engine/reference/commandline/run/#publish-or-expose-port--p---expose"><code>-p 80:80</code></a> - Хостинг портыг <code>80</code> контейнер дэх <code>80</code> порттой [host-port]:[container-port] холбох үед ашиглана.</li>
<li>[<code>--name</code>] - Контейнерт нэр онооно.</li>
<li><code>nginx</code> - Локал дээр ийм нэртэй repo байгаа эсэхийг шалгаад байхгүй бол Docker Hub - аас <a href="https://hub.docker.com/_/nginx/"><code>nginx</code></a> image - татаж авна. Tag - ыг тодорхой бичиж ѳгѳѳгүй бол хамгийн сүүлийн хувилбар буюу <code>nginx:latest</code> - татаж авна.</li>
</ul>
<p>Дээрх комманд ажиллаж дуусан бол browser-с <code>http://localhost:80/</code> - хандан Nginx -д ажиллаж байгааг шалгаарай.</p>
]]></content:encoded>
    </item>
    <item>
      <title>Ubuntu контейнер ажилууллах</title>
      <link>https://cadil.github.io/posts/2020-12-21-ubuntu-container/</link>
      <pubDate>Mon, 21 Dec 2020 00:00:00 +0000</pubDate>
      <guid>https://cadil.github.io/posts/2020-12-21-ubuntu-container/</guid>
      <description>Ubuntu контейнер ажилууллах</description>
      <content:encoded><![CDATA[<h2 id="ubuntu-контейнер-ажилууллах">Ubuntu контейнер ажилууллах</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker run ubuntu
</span></span></code></pre></div><h3 id="ubuntu-контейнер-руу-shell--ээр-хандах">Ubuntu контейнер руу shell -ээр хандах</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker run -ti &lt;your-container-name&gt; /bin/bash 
</span></span></code></pre></div><p>Эсвэл:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker exec -ti &lt;your-container-name&gt; bash
</span></span></code></pre></div><blockquote>
<p><strong>Note</strong>: shell-с гарахдаа Ctrl + D</p>
</blockquote>
<h3 id="ажиллаж-байгаа-контейнер-инспект-хийх-inspecting">Ажиллаж байгаа контейнер инспект хийх (inspecting)</h3>
<p>Контейнер нэрийг тодорхойлох.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker ps -a
</span></span></code></pre></div><p>Контейнер нэрийг ашиглан инспект хийх.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker inspect &lt;your-container-name&gt;
</span></span></code></pre></div><h3 id="ip-хаяг-тодорхойлох">IP хаяг тодорхойлох</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker inspect &lt;your-container-name&gt; | grep IPAddress
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker inspect --format <span style="color:#f92672">{{</span>.NetworkSettings.IPAddress<span style="color:#f92672">}}</span> &lt;your-container-name&gt;
</span></span></code></pre></div><h3 id="лог-шалгах">Лог шалгах</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker logs &lt;your-container-name&gt;
</span></span></code></pre></div><h3 id="контейнер-зогсоох">Контейнер зогсоох</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker stop &lt;your-container-name&gt;
</span></span></code></pre></div><h3 id="ажиллаагүй-байгаа-контейнер-цэвэрлэх-clean-up">Ажиллаагүй байгаа контейнер цэвэрлэх (clean up)</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker rm -v <span style="color:#66d9ef">$(</span>docker ps -aq -f states<span style="color:#f92672">=</span>exited<span style="color:#66d9ef">)</span>
</span></span></code></pre></div>]]></content:encoded>
    </item>
    <item>
      <title>Докэр контейнр болон Виртуалчлал</title>
      <link>https://cadil.github.io/posts/2020-12-16-docker-container/</link>
      <pubDate>Wed, 16 Dec 2020 00:00:00 +0000</pubDate>
      <guid>https://cadil.github.io/posts/2020-12-16-docker-container/</guid>
      <description>Докэр контейнр болон Виртуалчлал</description>
      <content:encoded><![CDATA[<h1 id="виртуалчлал">Виртуалчлал</h1>
<p><strong>Виртуал машин</strong>: Софтвейр контейнр дотор (үйлдлийн систем + апплкэйшнг) салангид бүтэцтэй ажиллуулна. Нэг физик серверт олон вирутал машин (ВМ) ажилуулах боломжтой.
<a href="https://en.wikipedia.org/wiki/Hypervisor">Гипервизор</a> (Виртуал машин мониторинг ВММ)
Виртуал машин бүрийн нѳѳцийг тооцоолж динамик хуваарилалт хийнэ.</p>
<p><strong>Контейнр</strong>: Хѳнгѳн байх бүтэцтэй виртуалчлал (контейнэр) нэг хостинг дотор ажиллах боломж. Үйлдлийн системээс ялгаатай нь кернел байхгүй. Хостинг хийж байгаа машины кернелийг хуваалцаж ашиглана (Илүү хѳнгѳн бүцэтэй болгох гэж тэр). Контейнр хоорондын тусгаарлалт хийхдээ <a href="https://en.wikipedia.org/wiki/Process_isolation">процесс тѳлѳвт тусгаарлалт</a> ашиглана.</p>
<h2 id="докэр-контейнр">Докэр контейнр</h2>
<p>Линукс контейнр (LXC) - с үүдэлтэй. LXC нь нэг хостинг дээр олон Линукс систем ажлууллах үйлдийн систем суурт виртуал аргачлал юм. Namespace, cgroup -ээр дамжих замаар LXC ажиллана. Докэр эхэн үедээ сингл-апплкэйшн LXC контейрн болгож LXC өөрчлөлт шинэчлэл хийгдэх болгонд илүү уян хатан,  зѳѳвѳрлѳх боломжтой болсон.</p>
<figure>
    <img loading="lazy" src="/images/Docker_Container_001.png"/> 
</figure>

<p><strong>Docker</strong> нь кодыг нэмэлтүүдийн хамт image дотор байрлуулна. Нээлттэй эх дээрх багаж</p>
<figure>
    <img loading="lazy" src="/images/Docker_Container_002.png"/> 
</figure>

]]></content:encoded>
    </item>
    <item>
      <title>Жишээ контейнер ажилуулах (hello-world)</title>
      <link>https://cadil.github.io/posts/2020-12-17-hello-world-container/</link>
      <pubDate>Wed, 16 Dec 2020 00:00:00 +0000</pubDate>
      <guid>https://cadil.github.io/posts/2020-12-17-hello-world-container/</guid>
      <description>Жишээ контейнер ажилуулах (hello-world)</description>
      <content:encoded><![CDATA[<h1 id="жишээ-контейнер-ажилуулах">Жишээ контейнер ажилуулах</h1>
<p><a href="https://docs.docker.com/engine/install/">Докэр суулгах</a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ docker run hello-world
</span></span></code></pre></div><p>Docker run командаар контейнер дуудаж ажиллуулна.</p>
<p>hello-world нэртэй image-г локалаас хайж үзнэ. Хэрэв ийм нэртэй image олдохгүй бол <a href="https://hub.docker.com">Dockerhub</a>-аас адил нэртэй <a href="https://hub.docker.com/_/hello-world/">image</a>-г хайн ажиллуулна.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>Hello from Docker!
</span></span><span style="display:flex;"><span>This message shows that your installation appears to be working correctly.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>To generate this message, Docker took the following steps:
</span></span><span style="display:flex;"><span> 1. The Docker client contacted the Docker daemon.
</span></span><span style="display:flex;"><span> 2. The Docker daemon pulled the <span style="color:#e6db74">&#34;hello-world&#34;</span> image from the Docker Hub.
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">(</span>amd64<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span> 3. The Docker daemon created a new container from that image which runs the
</span></span><span style="display:flex;"><span>    executable that produces the output you are currently reading.
</span></span><span style="display:flex;"><span> 4. The Docker daemon streamed that output to the Docker client, which sent it
</span></span><span style="display:flex;"><span>    to your terminal.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>To try something more ambitious, you can run an Ubuntu container with:
</span></span><span style="display:flex;"><span> $ docker run -it ubuntu bash
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Share images, automate workflows, and more with a free Docker ID:
</span></span><span style="display:flex;"><span> https://hub.docker.com/
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>For more examples and ideas, visit:
</span></span><span style="display:flex;"><span> https://docs.docker.com/get-started/
</span></span></code></pre></div><h2 id="контейнер-ажиллаж-байгаа-эсэхийг-шалгах">Контейнер ажиллаж байгаа эсэхийг шалгах</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker ps
</span></span></code></pre></div><blockquote>
<p><strong>Note</strong>: Үр дүнд ажиллаж байгаа контейнер лист буцаахгүй буюу хоосон утга буцаавал контейнер ажиллаж дуусаад зогссон байна.</p>
</blockquote>
<h2 id="сүүлийн-байдлаар-ажиллаж-байсан-контейнер-шалгах">Сүүлийн байдлаар ажиллаж байсан контейнер шалгах</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ docker ps -l
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>CONTAINER ID   IMAGE         COMMAND    CREATED         STATUS                     PORTS     NAMES
</span></span><span style="display:flex;"><span>562a70b66077   hello-world   <span style="color:#e6db74">&#34;/hello&#34;</span>   <span style="color:#ae81ff">8</span> minutes ago   Exited <span style="color:#f92672">(</span>0<span style="color:#f92672">)</span> <span style="color:#ae81ff">8</span> minutes ago             zealous_feynman
</span></span></code></pre></div>]]></content:encoded>
    </item>
  </channel>
</rss>
