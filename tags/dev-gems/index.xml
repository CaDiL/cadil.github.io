<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Dev Gems on CaDiL&#39;s Blog</title>
    <link>https://cadil.github.io/tags/dev-gems/</link>
    <description>Recent content in Dev Gems on CaDiL&#39;s Blog</description>
    <image>
      <title>CaDiL&#39;s Blog</title>
      <url>https://cadil.github.io/static</url>
      <link>https://cadil.github.io/static</link>
    </image>
    <generator>Hugo -- gohugo.io</generator>
    <language>mn</language>
    <lastBuildDate>Wed, 13 Apr 2016 00:00:00 +0000</lastBuildDate>
    <atom:link href="https://cadil.github.io/tags/dev-gems/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Rspec-rails gem</title>
      <link>https://cadil.github.io/posts/2016-04-13-rspec-rails-gem/</link>
      <pubDate>Wed, 13 Apr 2016 00:00:00 +0000</pubDate>
      <guid>https://cadil.github.io/posts/2016-04-13-rspec-rails-gem/</guid>
      <description>Rspec нь тест хийх зориулалттай framework ба олон талт боломжуудтай юм. </description>
      <content:encoded><![CDATA[<h3 id="танилцуулга">Танилцуулга</h3>
<p>Хамгийн хэрэгтэй гэсэн Development - gem - үүдээс эхнээс нь танилцаж явах болно. Мэдээж бид бүхэнд юуны ѳмнѳ rspec-rails gem хэрэгтэй. Rspec нь тест хийх зориулалттай framework ба олон талт боломжуудтай юм.</p>
<h3 id="dev-gems">Dev Gems</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span>group <span style="color:#e6db74">:development</span>, <span style="color:#e6db74">:test</span> <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>   gem <span style="color:#e6db74">&#39;better_errors&#39;</span>
</span></span><span style="display:flex;"><span>   gem <span style="color:#e6db74">&#39;capybara-webkit&#39;</span>
</span></span><span style="display:flex;"><span>   gem <span style="color:#e6db74">&#39;factory_girl_rails&#39;</span>
</span></span><span style="display:flex;"><span>   gem <span style="color:#e6db74">&#39;ffaker&#39;</span>
</span></span><span style="display:flex;"><span>   gem <span style="color:#e6db74">&#39;database_cleaner&#39;</span>
</span></span><span style="display:flex;"><span>   gem <span style="color:#e6db74">&#39;letter_opener&#39;</span>
</span></span><span style="display:flex;"><span>   gem <span style="color:#e6db74">&#39;rspec-rails&#39;</span> 
</span></span><span style="display:flex;"><span>   gem <span style="color:#e6db74">&#39;pry&#39;</span>
</span></span><span style="display:flex;"><span>   gem <span style="color:#e6db74">&#39;pry-nav&#39;</span>
</span></span><span style="display:flex;"><span>   gem <span style="color:#e6db74">&#39;pry-rails&#39;</span>, <span style="color:#e6db74">&#39;~&gt; 0.3.2&#39;</span>
</span></span><span style="display:flex;"><span>   gem <span style="color:#e6db74">&#39;simple_bdd&#39;</span>
</span></span><span style="display:flex;"><span>   gem <span style="color:#e6db74">&#39;shoulda-matchers&#39;</span>
</span></span><span style="display:flex;"><span>   gem <span style="color:#e6db74">&#39;spring&#39;</span>
</span></span><span style="display:flex;"><span> <span style="color:#66d9ef">end</span>
</span></span></code></pre></div><p>Дээр байгаа нийт 13 Development, test - gem - үүдийг нэг нэгээр нь дэлгэрэнгүй үзэх болно.
Энэ удаа бид gem &lsquo;rspec-rails&rsquo; дэлгэрэнгүй авч үзнэ. Rspec - ыг ажиллуулах үед <a href="https://github.com/thoughtbot/capybara-webkit">capybara-webkit</a> суулгахыг шаардана. Capybara-webkit-ыг суулгахын ѳмнѳ Qt libraries суулгасан байх шаардлагатай. <a href="https://github.com/thoughtbot/capybara-webkit/wiki/Installing-Qt-and-compiling-capybara-webkit">Энд</a> дарж суулгах заавартай танилцаарай.</p>
<h3 id="rspec-rails">rspec-rails</h3>
<p>rspec-rails нь Rails 3.x 4.x зориулсан testing framework юм.
Gemfile - ын group :development, :test do - дотор бичиж ѳгнѳ:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span>group <span style="color:#e6db74">:development</span>, <span style="color:#e6db74">:test</span> <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>   gem <span style="color:#e6db74">&#39;rspec-rails&#39;</span>
</span></span><span style="display:flex;"><span>   gem <span style="color:#e6db74">&#39;capybara-webkit&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span></code></pre></div><p>Дараагаар нь терминал дээр:</p>
<p>{% codeblock %}
$ bundle install
{% endcodeblock %}</p>
<p>Bundle install хийгдэж дууссан бол, rspec - ээ суулгана. Терминал дээр:</p>
<p>{% codeblock %}
$ rails generate rspec:install
{% endcodeblock %}</p>
<p>/spec/rails_helper.rb замаар орон require ‘rspec/rails’ - ыг нэмнэ:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span>require <span style="color:#e6db74">&#39;rspec/rails&#39;</span>
</span></span></code></pre></div><h3 id="home-spec">Home Spec</h3>
<p>/spec - фолдер дотор features - фолдер шинээр үүсгэнэ. Энэ фолдер дотор бид spec-үүдээ бичээд явах юм.</p>
<p>{% codeblock %}
$ cd spec
$ mkdir features
{% endcodeblock %}</p>
<p>Шинээр үүсгэсэн features - фолдер дотроо home_spec.rb - үүсгэж ѳгнѳ:</p>
<p>{% codeblock %}
$ vi /spec/features/home_spec.rb
{% endcodeblock %}</p>
<p>Энэ хичээлийн явцад [Vim](<a href="https://en.wikipedia.org/wiki/Vim_(text_editor)">https://en.wikipedia.org/wiki/Vim_(text_editor)</a> ашиглах ба та ѳѳрийн дурын editor-ыг ашиглах боломжтой.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span>require <span style="color:#e6db74">&#39;rails_helper&#39;</span>
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>feature <span style="color:#e6db74">&#34;Home page уруу орох&#34;</span> <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>  scenario <span style="color:#e6db74">&#34;Хэрэглэгч, тавтай морилно уу гэсэн текст харах&#34;</span> <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>    visit root_path
</span></span><span style="display:flex;"><span>    expect(page)<span style="color:#f92672">.</span>to have_text(<span style="color:#e6db74">&#34;Тавтай морилно уу CaDiL&#34;</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">end</span>
</span></span></code></pre></div><h3 id="spec---ыг-ажиллуулах">Spec - ыг ажиллуулах</h3>
<p>Бүх spec - ыг ажлуулах:</p>
<p>{% codeblock %}
$ rspec
{% endcodeblock %}</p>
<p>Фолдер дотор байгаа spec-үүдыг ажлуулах:</p>
<p>{% codeblock %}
$ rspec spec/features
{% endcodeblock %}</p>
<p>Нэг spec ажлуулах:</p>
<p>{% codeblock %}
$ rspec spec/features/home_spec.rb
{% endcodeblock %}</p>
<h3 id="spec-ын-дагуу">Spec-ын дагуу</h3>
<p>rspec ажиллуулж үзэн гарсан алдааны мэдээллээр алдааг засаж үзье.</p>
<p>Home controller - ыг index method - той хамт үүсгэх:</p>
<p>{% codeblock %}
$ rails g controller Home index
{% endcodeblock %}</p>
<p>Home index - ыг үндсэн хуудсаар сонгож ѳгѳхын тулд app/config/routes.rb - уруу орон:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span>root <span style="color:#e6db74">&#39;home#index&#39;</span>
</span></span></code></pre></div><p>бичиж ѳгнѳ.</p>
<p>Шинээр үүсгэсэн Home index үрүү орон доорх мѳрийг бичиж ѳгнѳ:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">p</span>&gt;Тавтай морилно уу CaDiL&lt;/<span style="color:#f92672">p</span>&gt;
</span></span></code></pre></div>]]></content:encoded>
    </item>
  </channel>
</rss>
