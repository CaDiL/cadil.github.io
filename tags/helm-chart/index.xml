<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Helm Chart on CaDiL&#39;s Blog</title>
    <link>https://cadil.github.io/tags/helm-chart/</link>
    <description>Recent content in Helm Chart on CaDiL&#39;s Blog</description>
    <image>
      <title>CaDiL&#39;s Blog</title>
      <url>https://cadil.github.io/static</url>
      <link>https://cadil.github.io/static</link>
    </image>
    <generator>Hugo -- gohugo.io</generator>
    <language>mn</language>
    <lastBuildDate>Wed, 13 Jan 2021 00:00:00 +0000</lastBuildDate>
    <atom:link href="https://cadil.github.io/tags/helm-chart/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Helm Chart ашиглан Odoo-г локал орчинд суулгах</title>
      <link>https://cadil.github.io/posts/2021-01-13-kubernetes-with-odoo/</link>
      <pubDate>Wed, 13 Jan 2021 00:00:00 +0000</pubDate>
      <guid>https://cadil.github.io/posts/2021-01-13-kubernetes-with-odoo/</guid>
      <description>Helm Chart ашиглан Odoo-г локал орчинд суулгах</description>
      <content:encoded><![CDATA[<p><a href="https://github.com/helm/helm">Kubernetes Helm</a>-г ашиглан <a href="https://bitnami.com/">bitnami</a> тохируулсан апплкэйшнг Күбернетесд суулган үзье. Ингэснээр Күбернетес ажиллагааг энгийн хялбар аргаар харж туршиж болно.</p>
<p><code>minikube start</code>-г терминал дээр бичин күбернетэс кластераа ажилууллсан бол:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Bitnami Helm Chart рэпо-г эхлээд нэмнэ.</span>
</span></span><span style="display:flex;"><span>$ helm repo add bitnami https://charts.bitnami.com/bitnami
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Default namespace-т my-release - нэрэээр Odoo-г суулгана.</span>
</span></span><span style="display:flex;"><span>$ helm install my-release bitnami/odoo
</span></span></code></pre></div><p>Дээрх коммандууыг ажиллуусан бол output терминал дээр харуулна.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>NAME: my-release
</span></span><span style="display:flex;"><span>LAST DEPLOYED: ***
</span></span><span style="display:flex;"><span>NAMESPACE: default
</span></span><span style="display:flex;"><span>STATUS: deployed
</span></span><span style="display:flex;"><span>REVISION: <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>TEST SUITE: None
</span></span><span style="display:flex;"><span>NOTES:
</span></span><span style="display:flex;"><span>*******************************************************************
</span></span><span style="display:flex;"><span>*** PLEASE BE PATIENT: Odoo may take a few minutes to install   ***
</span></span><span style="display:flex;"><span>*******************************************************************
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>1. Get the Odoo URL by running:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>** Please ensure an external IP is associated to the my-release-odoo service before proceeding **
</span></span><span style="display:flex;"><span>** Watch the status using: kubectl get svc --namespace default -w my-release-odoo **
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  export SERVICE_IP<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>kubectl get svc --namespace default my-release-odoo --template <span style="color:#e6db74">&#34;{{ range (index .status.loadBalancer.ingress 0) }}{{.}}{{ end }}&#34;</span><span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>  echo <span style="color:#e6db74">&#34;Odoo URL: http://</span>$SERVICE_IP<span style="color:#e6db74">/&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>2. Obtain the login credentials
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  export ODOO_EMAIL<span style="color:#f92672">=</span>user@example.com
</span></span><span style="display:flex;"><span>  export ODOO_PASSWORD<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>kubectl get secret --namespace default my-release-odoo -o jsonpath<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{.data.odoo-password}&#34;</span> | base64 --decode<span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  echo Email   : $ODOO_EMAIL
</span></span><span style="display:flex;"><span>  echo Password: $ODOO_PASSWORD
</span></span></code></pre></div><p>Output нь ойлгоход хялбар энгийн зааварчилгаа байгаа, терминал дээр зааврын дагуу хуулж ажилууллна.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>kubectl get svc --namespace default -w my-release-odoo
</span></span></code></pre></div><p>Сервисын статусыг дээрх коммандаар харах боломжтой гэж output дээр тайлбарлсан байгаа. Гэхдээ локал орчинд minikube ашиглаж байгаа үед Load Balancer-н экстернал ip -г авч болохгүй шалтгаан нь Cloud Provider-ууд дээр байдаг шиг Minikube -д ѳѳрт нь Load Balancer layer - байхгүй.</p>
<p>Тиймээс minikube-д экстернал ip-г түр зүүр нээх хэрэгтэй болно. Доор байгаа коммандыг шинэ терминал нээгээд ажилууллна.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>minikube tunnel
</span></span></code></pre></div><p>Ажилуулах үед нууц үг асууна. Нууц үг хийснээр локал орчинд Load Balancer шинээр үүсгэнэ.</p>
<p>Эсхүл service.type -г <code>LoadBalancer</code> биш <code>NodePort</code> болгоод ажилуулах бас нэг арга бий. Жишээ нь:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>helm install odoo bitnami/odoo --set serviceType<span style="color:#f92672">=</span>NodePort
</span></span></code></pre></div><p><code>kubectl get svc --namespace default -w my-release-odoo</code> - г коммандыг дахин ажилууллаад үзээрэй. Экстернал IP хэсгийг тодорхойлсон байгаа. Одоо <code>SERVICE_IP</code> -г browser дээр хуулаад done.</p>
<h3 id="под-статус-шалгах">Под статус шалгах</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>kubectl get pods
</span></span></code></pre></div><h3 id="release-устгаж-цэвэрлэх">release устгаж цэвэрлэх</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>helm uninstall my-release
</span></span></code></pre></div><p>Сервисийн параметруудыг ѳѳрчлѳх конфиг хийх бол <a href="https://github.com/bitnami/charts/tree/master/bitnami/odoo#service-parameters">эндээс</a> харж болох юм байна. Ѳѳр олон тохихруулга байгаа  болохоор <a href="https://github.com/bitnami/charts/tree/master/bitnami/odoo">заавартай</a> нь танилцаад аваарай.</p>
<h3 id="сурвалжууд--bookmarks">Сурвалжууд &amp; Bookmarks:</h3>
<ul>
<li><a href="https://github.com/helm/helm">https://github.com/helm/helm</a></li>
<li><a href="https://github.com/bitnami/charts">https://github.com/bitnami/charts</a></li>
<li><a href="https://github.com/bitnami/charts/tree/master/bitnami/odoo">https://github.com/bitnami/charts/tree/master/bitnami/odoo</a></li>
<li><a href="https://docs.bitnami.com/kubernetes/get-started-kubernetes/">https://docs.bitnami.com/kubernetes/get-started-kubernetes/</a></li>
</ul>
]]></content:encoded>
    </item>
  </channel>
</rss>
