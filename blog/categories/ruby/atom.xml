<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: ruby | CaDiL's blog]]></title>
  <link href="http://cadil.github.io/blog/categories/ruby/atom.xml" rel="self"/>
  <link href="http://cadil.github.io/"/>
  <updated>2016-04-12T21:19:25+09:00</updated>
  <id>http://cadil.github.io/</id>
  <author>
    <name><![CDATA[CaDiL]]></name>
    <email><![CDATA[kkhoschuluu@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Hello, Rails! үргэлжлэл]]></title>
    <link href="http://cadil.github.io/blog/2016/01/13/hello-rails-2/"/>
    <updated>2016-01-13T23:12:01+08:00</updated>
    <id>http://cadil.github.io/blog/2016/01/13/hello-rails-2</id>
    <content type="html"><![CDATA[<h1>Цаг нэмэх</h1>

<p>Ерѳнхийдѳѳ applcation - оо Dynamic болгох ганц хоёр алхамтай танилцлаа.. Дараагийн алхам бол одоо харагдаж байгаа цаг нь хаанаас дамжин харагдаж байгааг тогтоон address хийж ѳгѳх юм.</p>

<p>Ruby-гын <code>Time.now()</code> method нь embed хийж hello.html.erb загварт дуудан ѳгч ажиллаж байна. Хэрэглэгч, хандагч, уг page руу хандах бүр хэдэн цаг болж байгааг яг таг харуулж байна. Жижиг хэмжээний ѳѳрчлѳлт оруулж үзэцгээе. Одоо харагдаж байгаа view хэсгийг энэ чигт нь үлдээж controller хэсэгт цагийг байрлуулах шаардлагатай гэж үзээд Controller хэсэгт action method - ыг <code>@time</code> гэсэн хувьсагчид орлуулна. </p>

<pre><code class="ruby demo/app/controllers/say_controller.rb">class SayController &lt; ApplicationController
  def hello
    @time = Time.now
  end

  def goodbye
  end
end
</code></pre>

<p>.html.erb - загвар дотор, controller хэсэгт оруулж ѳгсѳн хувьсагчаа орлуулж бичнэ.</p>

<p>```html demo/app/views/say/hello.html.erb</p>

<h1>Hello from Rails!</h1>


<p><p>
  It is now &lt;%= @time %>
</p>
```</p>

<p>Browser - ѳѳ refresh хийгээд харвал controller дээр нэмсэн хувьсагч маань views хэсэгт буюу энэ хоёрын хооронд утга дамжин амжилттайгаар дэлгэцэд хэвлэн харуулж байна. </p>

<p>Яагаад заавал controller - оос харуулж байгаа зүйлийг views - дээр зарлан, хоёр гурван юм нэмж хийж, ажил удаад байгаа юм гэж гайхаж магадгүй. Уг Application - дотор бол ингэж хийсэн хийгээгүй нээх ѳѳрчлѳлт гарахгүй. Гэхдээ логикоор харвал ингэж хийх нь бидэнд ашигтай юм. Жишээ нь: 
Application - оо цаашид хѳгжүүлж олон орны хэрэглэгч хандалт хийх боломжтой болгоё гэж тѳсѳѳлье. Үүн дээр үндэслэхэд, тухайн орны цагын бүсээс хамааран дэлгэцэнд хэдэн цаг болж байгааг харуулах нь чухал. Ингэж харуулахад хангалттай хэмжээний код нэмж бичих хэрэг болно. Харин энэ их хэмжээний код нь views - д тийм тохиромжтой шийдэл болж чадахгүй л болох уу! Харин controller - т цагийг харуулахаар шийдэж ѳгснѳѳр уг application - ыг илүү уян хатан боглож ѳгч байгаа ба controller хэсгээс ѳѳрчлѳсѳн цагын бүс нь views хэсэгт мѳн time object - ыг update хийгээд байх шаардлага байхгүй гэсэн үг юм. Цагыг Data гэж үз, тэгвэл заавал view болон controller - тэй холбогдсон байх шаардлагтай. Цаашид Model гэж судлаад ирэхээр бид энэ тухай илүү ихийг сурах болно.</p>

<h1>Дүгнээд нэг харвал</h1>

<ul>
<li>Хэрэглэгч уг application-нд хандалтыг local-оос <a href="http://localhost:3000/say/hello">http://localhost:3000/say/hello</a> - URL хаягаар хандан орсон..</li>
<li>Rails - routes - ыг тааруулж ѳгсѳн. 2 хэсэгт хуваан авч үзвэл, <code>say</code> хэсэг нь controller хэсгийг авч, ингэснээр Rails нь шинээр Ruby-гын SayController хэсгийг дуурайлган буюу удамшуулан үүсгэх боломжтой болсон. (app/controllers/say_controller.rb - гэх дарааллаар олж болно)</li>
<li>Дараагийн хэсэгт нь <code>hello</code> - ыг action - гэдгийг тодорхойлсон. Rails нь тухайн нэрийн дагуу controller - оос method - ыг дуудсан. Энэхүү action method нь time object - ыг үүсгэж, <code>@time</code> гэсэн хувьсагч болгосон.</li>
<li>Rails нь загвар ашиглан үр дүнг дэлгэцэд хэвлэдэг болсон. App/view directory -> subdirectory нь controller-ын (say) - тэй адил нэрээр, тэрхүү subdirectory дотор hello.html.erb.</li>
<li>Rails нь уг файлыг <code>ERB templating system</code> - руу боловсруулан, controller хэсэгт утгыг (value) заан Ruby - д оруулж (embed) ѳгсѳн.</li>
<li>Үр дүнг browser дээрээс харахад, Rails хүсэлтүүдийг боловсруулан, ажиллаж байсан.</li>
</ul>


<h1>Pages - үүдыг холбох</h1>

<p>Нэг хуудастай Web Application гэж ч бас хаана байхав. Энэ удаа бид applicaiton - доо энгийн веб загвар хийж үзэцгээе.</p>

<p>2 action - доо нэг controller ашиглана. Яагаад гэвэл бидэнд одоо шинээр controller - үүсгээд байх шаардлага гараагүй болохоор.</p>

<p>Goodbye action - г controller - т define хийгээд ѳгчихсѳн болохоор одоо app/views/say дотор шинэ template үүсгэж ѳгѳх юм. Goodbye.html.erb гэж байгаа учир нь action нь default template загвар авах үедээ action - ын нэртэй холбогдож байдаг болохоор гэж ойлгож болно. </p>

<pre><code class="html demo/app/views/say/goodbye.html.erb">&lt;h1&gt;Goodbye!&lt;/h1&gt;
&lt;p&gt; 
    Энд байх сайхан байна.
&lt;/p&gt; 
</code></pre>

<p>Browser - рүүгээ ороод энэ удаа URL хаягаа ѳѳрчлѳѳд хандалт хийнэ. <a href="http://localhost:3000/say/goodbye">http://localhost:3000/say/goodbye</a></p>

<p>Харин одоо хоёр page - ээ хооронд нь холболт хийх хэрэгтэй. Hello page - ыг Goodbye page - тэй холбоно. Цаашид application хийхдээ хоорондын холболтыг button ашиглаж хийнэ, энэ удаа зүгээр hyperlink - ашиглаад хийчихье.</p>

<p>hello.html.erb - иймэрхүү байдлаар:
<code>erb
&lt;p&gt; 
    Say &lt;a href="http://cadil.github.io/say/goodbye"&gt;Goodbye&lt;/a&gt;!
&lt;/p&gt;
</code></p>

<p>Харин goodbye.html.erb:
<code>erb
&lt;p&gt; 
    Say &lt;a href="http://cadil.github.io/say/hello"&gt;Hello&lt;/a&gt;!
&lt;/p&gt;
</code>
Дээрx аргаар бичиж болно, асуудалгүй ажиллана. Нѳгѳѳ талаас жаахан эмзэг л болох юм даа. Уг Application - ынхаа web server - ыг ѳѳрчлѳѳд үзьѳ гэж бодоход URL - ууд шууд танихаа болино. 
Тийм болохоор, бид иймэрхүү эрсдэл хүлээх хэрэг байхгүй. Rails цаанаасаа маш олон helper, methods байдаг болохоор ур аргуудыг views, template - д ашиглаж болно. Жишээл нь:
<code>link_to()</code> - энэ method нь action - нд hyperlink үүсгэж ѳгдѳг жишээтэй. Басаж болохгүй, энэ method - ын хийж чадах зүйл их шүү. 
hello.html.erb - дээ <code>link_to()</code> - ашиглаад үзье:</p>

<pre><code class="erb demo/app/views/say/hello.html.erb">&lt;h1&gt;Hello from Rails!&lt;/h1&gt;
&lt;p&gt;
    It is now &lt;%= @time %&gt;
&lt;/p&gt;
&lt;p&gt;
    Time to say
    &lt;%= link_to "Goodbye", say_goodbye_path %&gt;!
&lt;/p&gt;
</code></pre>

<p>Түр зогсоод энэ мѳрийг сайн харьцгаая:
<code>ruby
&lt;%= link_to "Goodbye", say_goodbye_path %&gt;
</code></p>

<p><code>Link_to</code> - оор дуудах үйлдэл хийгдэж байна. (Rails-д method-ыг templates, helpers- ыг бичихид илүү хялбар болгож ѳгсѳн)
<code>say_goodbye_path</code> нь зам гээд ойлгоход болно доо.</p>

<p>Goodbye.html.erb - мѳн адил аргаар:
<code>erb demo/app/views/say/goodbye.html.erb
&lt;h1&gt;Goodbye!&lt;/h1&gt;
&lt;p&gt;
    It was nice having you here.
&lt;/p&gt;
&lt;p&gt;
    Say &lt;%= link_to "Hello", say_hello_path %&gt; again.
&lt;/p&gt;
</code>
За энэ хүрээд энгийн туршилтын application маань дуусаж байна. Дараагийн хичээлээр бид жинхэнэ application хийхэд суралцах болно. </p>

<h1>Бид юу хийсэн бэ?</h1>

<ul>
<li>Rails application хэрхэн шинээр үүсгэх, үүсгэсэн application - доо controller шинээр үүсгэж сурлаа.</li>
<li>Хэрхэн Dynamic контентыг controller дээр үүсгэх, үүсгэсэн контентоо view - ыг ашиглан харуулахад суралцсан.</li>
<li>Хэрхэн page хооронд холбох талаар үзлээ.</li>
</ul>


<p>Чамлахаар чанга атга, дээр үзсэн бүхэн дараагийн хичээлийн эхлэл юм шүү. Амжилт!</p>
]]></content>
  </entry>
  
</feed>
